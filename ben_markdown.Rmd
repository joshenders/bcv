---
title: "bcv_locations"
author: "Ben Brew"
date: "21/03/2020"
output: html_document
---

```{r setup, include=FALSE}
library(httr)
library(tidyverse)
library(leaflet)
knitr::opts_chunk$set(echo = TRUE)
source('R/get_positions_from_unique_id.R')

df <- get_positions_from_unique_id(url = credentials$traccar_url, 
                                   user = credentials$traccar_user,
                                   pass = credentials$traccar_pass,
                                   unique_id = '2')

```

```{r}
m <- leaflet(data = df) %>%
  addTiles() %>%  # Add default OpenStreetMap map tiles
  addCircleMarkers() %>%
  addPolylines(data = df, lng=~longitude, lat=~latitude, group = ~deviceTime, popup = ~deviceTime, color = 'black')

m

```
